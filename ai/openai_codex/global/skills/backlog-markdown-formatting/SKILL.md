---
name: backlog-markdown-formatting
description: Backlog向けのMarkdown整形ルールに合わせて文章を整形する。ユーザーが「バックログ用のmd記法で」「Backlog記法でMarkdownを整形して」などを依頼したときに使用。
---

# Backlog Markdown Formatting

## 目的

- Backlog向けMarkdownルールに合わせた出力へ統一する。
- 標準Markdownとの差異で崩れやすい箇所を強制的に正規化する。

## いつ使うか

- 「バックログ用のmd記法で書いて」「Backlog用に整形して」などの依頼があるとき
- バックログへ貼り付ける前提の議事録、仕様メモ、タスク分解、テンプレート作成時

## 整形ルール

1. 箇条書きは `* ` を使う（`- ` は使わない）。
2. ネストは半角スペース4つで下げる（タブ禁止、2スペース禁止）。
3. 番号付きリストは `1. ` 形式を使う。
4. 見出しは ATX 形式（`#` から始まる形式）を使い、`#` の後に半角スペースを入れる。
5. 引用は各行を `> ` で始める。引用内空行は `>` 行を使う。
6. コードは必ずフェンス付きコードブロック（3連バッククォート）を使う。インデントだけのコードブロックは使わない。
7. 罫線は `---` に統一する。
8. 強調はアスタリスクに統一する（`*italic*`, `**bold**`）。アンダースコア強調は使わない。
9. リンクは `[text](url)` 形式を使う。タイトル属性は原則付けない。
10. 画像は `![alt](url)` 形式を使い、タイトル属性は付けない。
11. テーブルは先頭と末尾に `|` を付けたGFM形式で統一する。
12. 定義リストは使わず、見出し風の語句 + 通常段落へ展開する。
13. `<details>` / `<summary>` は使わず、通常テキストに展開する。
14. Backlog固有リンク（例: `BLG-95`, `[[WikiPage]]`, `#rev(...)`）はそのまま保持する。

## 優先順位

- ユーザーがこの整形ルールを明示した場合、一般的なMarkdown最適化より本ルールを優先する。
- 入力例に標準Markdownと混在がある場合は、上記ルールへ正規化して出力する。

## 出力前チェック

- [ ] `- ` を `* ` に変換した
- [ ] ネストを4スペースに統一した
- [ ] アンダースコア強調をアスタリスク強調へ変換した
- [ ] テーブル・コードブロック・罫線を規定形式へ統一した
