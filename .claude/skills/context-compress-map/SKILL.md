---
name: context-compress-map
description: 長いコンテキストを決定に必要な最小の構造化マップに圧縮するスキル。キーワード「要約」「圧縮」「map」「context」「サマリー」で自動検出。メインコンテキストの情報密度を維持するために使用する。
user-invocable: true
allowed-tools: Read
disable-model-invocation: true
---

# Context Compress Map

長いコンテキストを「決定に必要な最小情報」に圧縮し、構造化マップとして出力する。グローバル原則「メインコンテキストの情報密度を最高に保て」の実装形です。

## 実行手順

1. コンテキストの中から「核心の目標」と「それを支える最小事実」を特定する。
2. 物語的な説明や反復を除去する。決定に関連する項目のみを残す。
3. 以下のマップ形式で出力する。余分な文章は一切付けない。

## 出力形式（Map Only）

```markdown
## Compressed Map

**目的**: [核心の目標]
**前提**: [固定された条件]

### 主要事実

- [事実1]
- [事実2]

### 決定済み

- [既に決まっていること]

### 未決

- [まだ決まっていないこと]

### リスク

- [注意すべき事項]

### 次の手

- [推奨アクション]
```

## 制約

- 出力はマップ形式のみ。「はい」「わかりました」のような余分な応答は付けない。
- 圧縮により情報が失われる場合は、元の情報へのポインタ（ファイルパス・セクション名等）を残す。
- 編集を伴った場合は、必要な検証コマンドが実行されたことを確認する。
